var E=Object.defineProperty;var q=(l,s,a)=>s in l?E(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a;var p=(l,s,a)=>(q(l,typeof s!="symbol"?s+"":s,a),a);import"./chunks/index.1576f27e.js";import{c as b,a as F,e as k}from"./chunks/index.1bc7f7ea.js";import{d as _,o as y,c as A,x as D,f as i,h,v as m,D as e,z as c,b as n,t as u,e as S,V as I,a1 as v,y as x,a as o,B as w,N as L}from"./chunks/framework.0d72c9ec.js";const T={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},V=D("path",{d:"M461 349l-34-19.64a89.53 89.53 0 0 1 20.94-16a22 22 0 0 0-21.28-38.51a133.62 133.62 0 0 0-38.55 32.1L300 256l88.09-50.86a133.46 133.46 0 0 0 38.55 32.1a22 22 0 1 0 21.28-38.51a89.74 89.74 0 0 1-20.94-16l34-19.64A22 22 0 1 0 439 125l-34 19.63a89.74 89.74 0 0 1-3.42-26.15A22 22 0 0 0 380 96h-.41a22 22 0 0 0-22 21.59a133.61 133.61 0 0 0 8.5 49.41L278 217.89V116.18a133.5 133.5 0 0 0 47.07-17.33a22 22 0 0 0-22.71-37.69A89.56 89.56 0 0 1 278 71.27V38a22 22 0 0 0-44 0v33.27a89.56 89.56 0 0 1-24.36-10.11a22 22 0 1 0-22.71 37.69A133.5 133.5 0 0 0 234 116.18v101.71L145.91 167a133.61 133.61 0 0 0 8.52-49.43a22 22 0 0 0-22-21.59H132a22 22 0 0 0-21.59 22.41a89.74 89.74 0 0 1-3.41 26.19L73 125a22 22 0 1 0-22 38.1l34 19.64a89.74 89.74 0 0 1-20.94 16a22 22 0 1 0 21.28 38.51a133.62 133.62 0 0 0 38.55-32.1L212 256l-88.09 50.86a133.62 133.62 0 0 0-38.55-32.1a22 22 0 1 0-21.28 38.51a89.74 89.74 0 0 1 20.94 16L51 349a22 22 0 1 0 22 38.1l34-19.63a89.74 89.74 0 0 1 3.42 26.15A22 22 0 0 0 132 416h.41a22 22 0 0 0 22-21.59a133.61 133.61 0 0 0-8.5-49.41L234 294.11v101.71a133.5 133.5 0 0 0-47.07 17.33a22 22 0 1 0 22.71 37.69A89.56 89.56 0 0 1 234 440.73V474a22 22 0 0 0 44 0v-33.27a89.56 89.56 0 0 1 24.36 10.11a22 22 0 0 0 22.71-37.69A133.5 133.5 0 0 0 278 395.82V294.11L366.09 345a133.61 133.61 0 0 0-8.52 49.43a22 22 0 0 0 22 21.59h.43a22 22 0 0 0 21.59-22.41a89.74 89.74 0 0 1 3.41-26.19l34 19.63A22 22 0 1 0 461 349z",fill:"currentColor"},null,-1),$=[V],P=_({name:"Snow",render:function(s,a){return y(),A("svg",T,$)}}),N={class:"c-loading"},z={class:"c-loading__icon"},O={class:"c-loading__text"},M=_({props:{iconColor:{default:"var(--c-color-primary-1)"},text:{default:"Loading"}},setup(l){const s=i(!1),a=i(".");return h(()=>{console.log("loading mounted"),s.value=!0,setInterval(()=>{a.value=a.value+".",a.value.length>3&&(a.value="")},500)}),m(()=>{console.log("loading unmounted"),s.value=!1}),(r,g)=>(y(),A("div",N,[D("div",z,[e(n(b),{color:l.iconColor,size:80},{default:c(()=>[e(n(P))]),_:1},8,["color"])]),D("span",O,u(l.text)+u(a.value),1)]))}}),R=_({props:{status:null,color:null},setup(l){const s=l,a=S(()=>({width:`${s.status.value}vw`,backgroundColor:`${s.color.value}`}));return h(()=>{console.log("loadingbar mounted")}),m(()=>{console.log("loadingbar unmounted")}),(r,g)=>(y(),A("div",{class:"c-loadingbar",style:I(n(a))},null,4))}});let C=null,d=null;class U{constructor(s){p(this,"component",M);p(this,"instance",null);p(this,"container",document.getElementById("c-loading-provider"));p(this,"options");p(this,"status",i(!1));this.options=s}create(){this.container=document.getElementById("c-loading-provider"),this.instance=v(this.component,this.options)}start(){this.instance||this.create(),this.instance.mount(this.container),this.status.value=!0}stop(){this.instance&&this.instance.unmount(),this.instance=null,this.status.value=!1}}class j{constructor(s){p(this,"component",R);p(this,"instance",null);p(this,"container",document.getElementById("c-loading-provider"));p(this,"options");p(this,"finished",!1);p(this,"color",i("var(--c-color-primary-1)"));p(this,"timer");p(this,"status",i(0));this.options=s}create(){this.container=document.getElementById("c-loading-provider"),this.instance=v(this.component,{...this.options,status:this.status,color:this.color})}start(){this.unmount(),this.instance||this.create(),this.instance.mount(this.container),this.status.value=0,this.timer=setInterval(()=>{this.status.value>=80||this.status.value++},10)}stop(){this.gogo(100)}error(){this.instance||this.start(),this.color.value="var(--c-color-error-1)",this.stop()}finish(){this.instance||this.start(),this.color.value="var(--c-color-success-1)",this.stop()}unmount(){clearInterval(this.timer),this.instance&&this.instance.unmount(),this.instance=null,this.status.value=0,this.color.value="var(--c-color-primary-1)"}gogo(s){if(s>this.status.value){let a=setInterval(()=>{this.status.value==100&&(this.unmount(),this.status.value=0,clearInterval(a)),s>this.status.value?this.status.value++:clearInterval(a)},1)}else if(s<this.status.value){let a=setInterval(()=>{this.status.value==100&&(this.unmount(),this.status.value=0,clearInterval(a)),s<this.status.value?this.status.value--:clearInterval(a)},1)}}goto(s){this.instance||this.start(),clearInterval(this.timer),!(s<0||s>100)&&s!==this.status.value&&this.gogo(s)}}const H=l=>(C||(C=new U(l)),d||(d=new j(l)),{CLoading:C,CLoadingStatus:C.status,CLoadingBar:d,CLoadingBarStatus:d.status}),J=o("Loading"),G=o("  "),K=D("div",null,null,-1),Q=D("br",null,null,-1),W=o("Loading start"),X=o("  "),Y=o("Loading stop"),Z=o("  "),ss=D("div",null,null,-1),ns=D("br",null,null,-1),as=o("Loadingbar"),os=o("  "),ls=D("div",null,null,-1),ts=D("br",null,null,-1),ps=o("LoadingBar start"),es=o("  "),cs=o("LoadingBar stop"),rs=o("  "),Ds=D("div",null,null,-1),Fs=D("br",null,null,-1),is=o("LoadingBar finish"),ys=o("  "),Cs=o("LoadingBar error"),ds=o("  "),us=o("LoadingBar goto 40"),As=o("  "),gs=o("LoadingBar goto 70"),_s=o("  "),hs={setup(l){const{CLoading:s,CLoadingStatus:a,CLoadingBar:r,CLoadingBarStatus:g}=H({text:"加载中"}),B=()=>{s.start(),setTimeout(()=>{s.stop()},2e3)},f=()=>{r.start(),setTimeout(()=>{r.finish()},2e3)};return(Bs,t)=>(y(),x(n(k),null,{default:c(()=>[o(u(n(a))+"  ",1),e(n(F),{type:"primary",onC_click:B},{default:c(()=>[J]),_:1}),G,K,Q,e(n(F),{type:"primary",onC_click:t[0]||(t[0]=()=>n(s).start())},{default:c(()=>[W]),_:1}),X,e(n(F),{type:"primary",onC_click:t[1]||(t[1]=()=>n(s).stop())},{default:c(()=>[Y]),_:1}),Z,ss,ns,o(" "+u(n(g))+"  ",1),e(n(F),{type:"primary",onC_click:f},{default:c(()=>[as]),_:1}),os,ls,ts,e(n(F),{type:"primary",onC_click:t[2]||(t[2]=()=>n(r).start())},{default:c(()=>[ps]),_:1}),es,e(n(F),{type:"primary",onC_click:t[3]||(t[3]=()=>n(r).stop())},{default:c(()=>[cs]),_:1}),rs,Ds,Fs,e(n(F),{type:"success",onC_click:t[4]||(t[4]=()=>n(r).finish())},{default:c(()=>[is]),_:1}),ys,e(n(F),{type:"error",onC_click:t[5]||(t[5]=()=>n(r).error())},{default:c(()=>[Cs]),_:1}),ds,e(n(F),{type:"primary",onC_click:t[6]||(t[6]=()=>n(r).goto(40))},{default:c(()=>[us]),_:1}),As,e(n(F),{type:"primary",onC_click:t[7]||(t[7]=()=>n(r).goto(70))},{default:c(()=>[gs]),_:1}),_s]),_:1}))}},ms=L("",7),vs=L("",1),ks=JSON.parse('{"title":"Loading / LoadingBar 加载","description":"","frontmatter":{},"headers":[],"relativePath":"components/loading.md"}'),Ls={name:"components/loading.md"},Ss=Object.assign(Ls,{setup(l){return(s,a)=>{const r=w("ClientOnly");return y(),A("div",null,[ms,e(r,null,{default:c(()=>[e(hs)]),_:1}),vs])}}});export{ks as __pageData,Ss as default};
