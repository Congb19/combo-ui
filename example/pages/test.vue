<template>
  <CThemeProvider>
    <CMessageProvider>
      <div style="display: block">
        ------------------ÂÖ∂‰ªñ-------------------
        <br />
        ‰∏ªÈ¢òÔºö<CSwitch v-model:value="switchvalue2"></CSwitch>&nbsp;
        <CButton :type="typetest" clean @c_click="typeclick">
          prop change test
        </CButton>
        <input v-model="inputvalue2" />
        <CInput v-model:value="inputvalue2" />
      </div>

      <div style="display: block">
        ------------------block-------------------
        <br />
        <CBlock content="default"></CBlock>
        <CBlock type="info" :content="blockcontent"></CBlock>
        <CBlock type="success" :content="blockcontent"></CBlock>
        <CBlock type="warning" :content="blockcontent"></CBlock>
        <CBlock type="error" :content="blockcontent"></CBlock>
        <CBlock type="info" detail :content="blockcontent"></CBlock>
        <br />
        Â±ïÂºÄÊî∂Ëµ∑
        <br />
        <CBlock
          type="success"
          detail
          :expanded="false"
          :content="blockcontent"
        ></CBlock>
        <CBlock
          type="info"
          title="customtitle"
          :content="blockcontent"
        ></CBlock>
        <br />
        ÊåáÂÆöÂÆΩÂ∫¶
        <br />
        <CBlock type="info" :content="blockcontent" :width="300"></CBlock>
      </div>

      <div style="display: block">
        ------------------select-------------------
        <br />
        {{ selectvalue }}
        <br />
        <CSelect v-model:value="selectvalue" :options="dict"></CSelect>
        <CSelect
          v-model:value="selectvalue2"
          :options="[]"
          @c_select="selectevent"
        ></CSelect>
        <CSelect
          v-model:value="selectvalue"
          :options="dict"
          placement="top"
        ></CSelect>
        <CSelect v-model:value="selectvalue" :options="dict" disabled></CSelect>
        <CSelect
          v-model:value="selectvalue"
          :options="dict"
          :max-height="80"
        ></CSelect>
      </div>

      <div style="display: block">
        ------------------icon-------------------
        <br />
        <CIcon>
          <AmericanFootballSharp />
        </CIcon>
        <CIcon color="orange">
          <img src="./test.svg" />
        </CIcon>
        <CIcon color="orange" :size="30" background-color="blue"> üòÇ </CIcon>
        <CIcon color="orange" :size="30" background-color="blue"> Âñî </CIcon>
      </div>
      <div style="display: block">
        ------------------checkbox-------------------
        <br />
        <br />
        {{ checkboxvalue }}
        <br />
        ÈªòËÆ§
        <br />
        <CCheckbox v-model:value="checkboxvalue"></CCheckbox>&nbsp;
        <CCheckbox v-model:value="checkboxvalue" disabled></CCheckbox>&nbsp;
        <!-- <br />
        È¢úËâ≤
        <br />
        <CCheckbox v-model:value="checkboxvalue" color="red"></CCheckbox>&nbsp;
        <CCheckbox v-model:value="checkboxvalue" color="green"></CCheckbox
        >&nbsp; -->
        <br />
        Â∞∫ÂØ∏
        <br />
        <CCheckbox v-model:value="checkboxvalue" size="s"></CCheckbox>&nbsp;
        <CCheckbox v-model:value="checkboxvalue" size="m"></CCheckbox>&nbsp;
        <CCheckbox v-model:value="checkboxvalue" size="l"></CCheckbox>&nbsp;
        <br />
        Ëá™ÂÆö‰πâÂõæÊ†á
        <br />
        <CCheckbox
          v-model:value="checkboxvalue"
          size="l"
          :icon="AmericanFootballSharp"
        ></CCheckbox
        >&nbsp;
        <CCheckbox v-model:value="checkboxvalue" size="l" icon="üè°"></CCheckbox>
      </div>
      <div style="display: block">
        ------------------switch-------------------
        <br />
        <br />
        {{ switchvalue }}
        <br />
        ÈªòËÆ§
        <br />
        <CSwitch v-model:value="switchvalue"></CSwitch>&nbsp;
        <CSwitch v-model:value="switchvalue" disabled></CSwitch>&nbsp;
        <!-- <br />
        È¢úËâ≤
        <br />
        <CSwitch v-model:value="switchvalue" color="red"></CSwitch>&nbsp;
        <CSwitch v-model:value="switchvalue" color="grey"></CSwitch>&nbsp; -->
        <br />
        Â∞∫ÂØ∏
        <br />
        <CSwitch v-model:value="switchvalue" size="s"></CSwitch>&nbsp;
        <CSwitch v-model:value="switchvalue" size="m"></CSwitch>&nbsp;
        <CSwitch v-model:value="switchvalue" size="l"></CSwitch>&nbsp;
        <br />
        Ëá™ÂÆö‰πâÂõæÊ†á
        <br />
        <CSwitch v-model:value="switchvalue" :icon="FootballOutline"></CSwitch
        >&nbsp;
        <CSwitch v-model:value="switchvalue" size="l" icon="‚òÄÔ∏è"></CSwitch>
      </div>
      <div style="display: block">
        ---------------------message----------------------
        <br />
        <CButton type="success" clean @c_click="msgtest1"> msgtest1 </CButton>
        <CButton type="success" clean @c_click="msgtest2"> msgtest2 </CButton>
        <CButton type="success" clean @c_click="msgtest3"> msgtest3 </CButton>
      </div>
      <br />
      <div style="display: block">
        ---------------------button----------------------
        <br />
        default
        <CButton>Btn ÈªòËÆ§</CButton>
        <CButton clean>Btn ÈªòËÆ§</CButton>
        <br />
        size
        <CButton size="s">Btn s</CButton>
        <CButton size="m">Btn m</CButton>
        <CButton size="l">Btn l</CButton>
        <br />
        round
        <CButton round>Btn round</CButton>
        <br />
        type
        <CButton type="primary">Btn primary</CButton>
        <CButton type="success">Btn success</CButton>
        <CButton type="warning">Btn warning</CButton>
        <CButton type="error">Btn error</CButton>
        <br />
        clean=false
        <CButton type="primary" clean>primary clean</CButton>
        <CButton type="success" clean>success clean</CButton>
        <CButton type="warning" clean>warning clean</CButton>
        <CButton type="error" clean>error clean</CButton>
        <br />
        disabled
        <CButton disabled>Btn disabled</CButton>
        <CButton disabled clean>Btn disabled</CButton>
        <br />
        c_click
        <CButton @c_click="clicktest">Btn ‰∫ã‰ª∂</CButton>

        <br />
      </div>
      <div style="display: block">
        -------------------ÂàáÊç¢‰∏ªÈ¢òÊµãËØï---------------------
        <br />
        <CButton clean type="success" @c_click="changeTheme('light')">
          to-light
        </CButton>
        <CButton @c_click="changeTheme('dark')">to-dark</CButton>
        <CButton clean type="success" @c_click="changeTheme2('light')">
          to-light
        </CButton>
        <CButton @c_click="changeTheme2('dark')">to-dark</CButton>
        <div
          style="color: var(--combo-test-color); transition: all 0.2s ease-out"
        >
          {{ currentTheme }}
        </div>
      </div>
      <br />

      <div style="display: block">
        ------------------input-------------------
        <br />
        {{ inputvalue }}
        <br />
        <CInput v-model:value="inputvalue" />
        <CInput placeholder="input!" />
        <br />
        size
        <br />
        <CInput v-model:value="inputvalue" size="s" />
        <CInput v-model:value="inputvalue" size="m" />
        <CInput v-model:value="inputvalue" size="l" />
        <br />
        disabled
        <br />
        <CInput v-model:value="inputvalue" disabled />
        <br />
        password
        <br />
        <CInput v-model:value="inputvalue" type="password" />
        <br />
        textarea
        <br />
        <CInput v-model:value="inputvalue" type="textarea" />
        <br />
        maxlength
        <br />
        <CInput v-model:value="inputvalue" :max-length="12" />
        <CInput v-model:value="inputvalue" :max-length="12" type="textarea" />
        <br />
        event Ôºàc_focus, c_blur, c_changeÔºâ
        <br />
        <CInput
          v-model:value="inputvalue"
          @c_focus="focustest"
          @c_blur="blurtest"
          @c_change="changetest"
        />
        <br />
      </div>
      <div style="display: block">
        ------------------tag-------------------
        <br />
        ÈªòËÆ§
        <CTag>123</CTag>
        <CTag type="primary">Ê†áÁ≠æ</CTag>
        <CTag type="success">123</CTag>
        <CTag type="warning">Ê†áÁ≠æ</CTag>
        <CTag type="error">123</CTag>
        <CTag clean>123</CTag>
        <CTag type="primary" clean>Ê†áÁ≠æ</CTag>
        <CTag type="success" clean>123</CTag>
        <CTag type="warning" clean>Ê†áÁ≠æ</CTag>
        <CTag type="error" clean>123</CTag>
        <br />
        Â∞∫ÂØ∏
        <CTag type="primary" size="s">Ê†áÁ≠æ</CTag>
        <CTag type="success" size="m">Ê†áÁ≠æ</CTag>
        <CTag type="warning" size="l">Ê†áÁ≠æ</CTag>
        <CTag type="primary" size="s" clean>Ê†áÁ≠æ</CTag>
        <CTag type="success" size="m" clean>Ê†áÁ≠æ</CTag>
        <CTag type="warning" size="l" clean>Ê†áÁ≠æ</CTag>
        <br />
        round
        <CTag type="primary" size="s" round>round</CTag>
        <CTag type="success" size="m" round>round</CTag>
        <CTag type="warning" size="l" round>round</CTag>
        <CTag type="primary" size="s" round clean>Ê†áÁ≠æ</CTag>
        <CTag type="success" size="m" round clean>Ê†áÁ≠æ</CTag>
        <CTag type="warning" size="l" round clean>Ê†áÁ≠æ</CTag>
        <br />
        closable
        <CTag type="success" size="s" clean closable>close</CTag>
        <CTag type="success" size="m" clean closable>close</CTag>
        <CTag type="success" size="l" clean closable>close</CTag>
        <CTag type="success" size="s" clean closable round>close</CTag>
        <CTag type="success" size="m" clean closable round>close</CTag>
        <CTag type="success" size="l" clean closable round>close</CTag>
        <CTag type="success" size="m" closable>closable</CTag>
        <CTag type="success" size="m" closable clean @c_close="closetest"
          >closable</CTag
        >
        <CTag type="success" size="m" closable round>closable</CTag>
      </div>
      <br />
      <br />
      <br />
    </CMessageProvider>
  </CThemeProvider>
</template>
<script setup lang="ts">
import { computed, ref, watch } from 'vue'
import {
  CBlock,
  CButton,
  CTag,
  CInput,
  CSwitch,
  CCheckbox,
  CIcon,
  CSelect,
  CMessageProvider,
  CThemeProvider,
  useMsg,
  useTheme,
} from '../../src'
import { AmericanFootballSharp, FootballOutline } from '@vicons/ionicons5'
// import testSVG from './test.svg'
const msg = useMsg()
const { currentTheme, changeTheme } = useTheme()
const changeTheme2 = (theme: string) => {
  document.getElementsByTagName('html')[0].className = theme ? theme : ''
}

const clicktest = () => {
  console.log('click')
  alert('click')
  msg.error('test msg', 4000)
}
const mouseovertest = () => {
  console.log('mouseover')
}
const closetest = () => {
  console.log('close')
}
const inputvalue = ref('inputÊµãËØï')
const switchvalue = ref(true)
const switchvalue2 = ref(currentTheme.value == 'light' ? false : true)
watch(
  () => switchvalue2.value,
  (val) => {
    if (val) changeTheme('dark')
    else changeTheme('light')
  }
)
const checkboxvalue = ref(true)
const typetest: any = ref('warning')
const typeclick = () => {
  typetest.value = 'error'
}
const focustest = () => console.log('focus')
const blurtest = () => console.log('blur')
const changetest = () => console.log('change')

const msgtest1 = () => {
  msg.error('test msg', 4000)
}
const msgtest2 = () => {
  msg.error({
    msg: '222222222222',
    duration: 400000,
    position: 'right',
    closable: true,
  })
}
const msgtest3 = () => {
  msg.error({
    msg: '33333333333333333',
    duration: 400000,
    position: 'left',
    closable: true,
  })
}
// mapÂìçÂ∫îÊµãËØï
let a = { val: ref(1) }
let map = new Map([[1, a]])
let b = computed(() => {
  console.log('computed')
  let res = 100
  map.forEach((item, key) => {
    res += item.val.value
  })
  return res
})
console.log(b.value)
setTimeout(() => {
  a.val.value++
  console.log('effect', b.value)
}, 1000)

// prop ÂèòÂåñÊµãËØï2
const inputvalue2 = ref('asd')
setTimeout(() => {
  inputvalue2.value = 'qwe'
}, 1000)

// select
const selectvalue = ref(1)
const selectvalue2 = ref(null)
const dict = ref([
  { value: 1, label: 'test1' },
  { value: 2, label: 'test2' },
  { value: 3, label: 'test31231123231affsvefwvlewvevlreaasdf23' },
  { value: 4, label: 'test4', disabled: true },
])
const selectevent = (value: any) => {
  console.log('select!!!', value)
}

// block
const blockcontent =
  'Either change the import in "example/pages/test.vue?vue&type=script&setup=true&lang.ts" to point directly to the exporting module or reconfigure "output.manualChunks" to ensure these modules end up in the same chunk.'
</script>
